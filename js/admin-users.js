async function load(){let list=document.getElementById('list');list.textContent='Laden...';try{let r=await fetch('/api/admin/users');let j=await r.json();if(j.users){list.innerHTML='<ul>'+j.users.map(u=>`<li>${u.name} (${u.email}) - rol:${u.role}</li>`).join('')+'</ul>';}else list.textContent='Geen gebruikers';}catch(e){list.textContent='Fout:'+e;}}document.getElementById('addForm')?.addEventListener('submit',async(e)=>{e.preventDefault();let nm=name.value,em=email.value,pw=password.value,rl=role.value;let r=await fetch('/api/admin/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:nm,email:em,password:pw,role:rl})});let j=await r.json();document.getElementById('result').textContent=JSON.stringify(j,null,2);load();});load();