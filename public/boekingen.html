<!doctype html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Superhond · Boekingen</title>
  <link rel="stylesheet" href="styles.css?v=0903n" />
  <style>
    .status-badge{border-radius:999px;padding:2px 8px;font-size:.85rem;font-weight:700;display:inline-block}
    .st-bevestigd{background:#e6ffcc;border:1px solid #97d36b;color:#185b00}
    .st-wachtlijst{background:#fff0cc;border:1px solid #f2c46e;color:#7a4d00}
    .st-geannuleerd{background:#f1f1f1;border:1px solid #d0d0d0;color:#666}
    .mono{font-family:ui-monospace,Menlo,monospace}
    /* modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px;z-index:1000}
    .modal.open{display:flex}
    .modal-card{background:#fff;max-width:720px;width:100%;max-height:90vh;border-radius:10px;overflow:auto;box-shadow:0 10px 30px rgba(0,0,0,.2)}
    .modal-head{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #eee}
    .modal-body{padding:16px}
    .close-x{border:none;background:transparent;font-size:22px;cursor:pointer}
  </style>
</head>
<body>
  <nav class="topnav">
    <ul>
      <li><a href="index.html">Dashboard</a></li>
      <li><a href="klanten.html">Klanten</a></li>
      <li><a href="honden.html">Honden</a></li>
      <li><a href="lessen.html">Lessen beheren</a></li>
      <li><a href="boekingen.html" class="active">Boekingen</a></li>
      <li><a href="strippenkaarten.html">Strippenkaarten</a></li>
      <li><a href="les-instellingen.html">Instellingen</a></li>
    </ul>
  </nav>

  <header class="page-header">
    <div class="page-bread">Boekingen</div>
    <h1>Boekingen
      <span class="page-badge">Superhond.be – Admin</span>
    </h1>
  </header>

  <main>
    <section class="card">
      <div class="help">
        Live data uit <span class="mono">/api/boekingen</span> (verrijkt met lessen/klanten/honden).
        Je kan toevoegen, bewerken en verwijderen. CSV-export aanwezig.
      </div>

      <div class="row" style="gap:8px;align-items:flex-end;flex-wrap:wrap">
        <div class="col"><button id="btn-new" class="btn">+ Nieuwe boeking</button></div>
        <div class="col" style="min-width:220px"><label>Zoek <input id="q" placeholder="klant, hond, les…"></label></div>
        <div class="col">
          <label>Status
            <select id="status">
              <option value="">Alle</option>
              <option value="bevestigd">Bevestigd</option>
              <option value="wachtlijst">Wachtlijst</option>
              <option value="geannuleerd">Geannuleerd</option>
            </select>
          </label>
        </div>
        <div class="col">
          <label>Vanaf <input type="date" id="from"></label>
        </div>
        <div class="col">
          <label>Tot <input type="date" id="to"></label>
        </div>
        <div class="col">
          <label>Les
            <select id="les-filter"><option value="">Alle</option></select>
          </label>
        </div>
        <div class="col"><button id="export" class="btn">Export CSV</button></div>
      </div>

      <table id="tbl-boeking" style="margin-top:10px">
        <thead>
          <tr><th>Klant</th><th>Hond</th><th>Les</th><th>Datum</th><th>Tijd</th><th>Status</th><th></th></tr>
        </thead>
        <tbody>
          <tr class="placeholder"><td colspan="7" style="text-align:center;color:#777;">Laden…</td></tr>
        </tbody>
      </table>
    </section>
  </main>

  <!-- Modal: Boeking toevoegen/bewerken -->
  <div class="modal" id="modal-bk">
    <div class="modal-card">
      <div class="modal-head">
        <h3 id="modal-title">Nieuwe boeking</h3>
        <button class="close-x" data-close="modal-bk">✕</button>
      </div>
      <div class="modal-body">
        <form id="form-bk">
          <input type="hidden" name="id" />
          <div class="row">
            <div class="col">
              <label>Klant*
                <select name="klant_id" id="f-klant" required></select>
              </label>
            </div>
            <div class="col">
              <label>Hond*
                <select name="hond_id" id="f-hond" required></select>
              </label>
            </div>
          </div>
          <div class="row">
            <div class="col" style="min-width:280px">
              <label>Les*
                <select name="les_id" id="f-les" required></select>
              </label>
            </div>
            <div class="col">
              <label>Status
                <select name="status" id="f-status">
                  <option value="bevestigd">Bevestigd</option>
                  <option value="wachtlijst">Wachtlijst</option>
                  <option value="geannuleerd">Geannuleerd</option>
                </select>
              </label>
            </div>
          </div>
          <div class="help">Datum/tijd komt standaard van de gekozen les. Je kan optioneel een aparte datum meegeven.</div>
          <label>Afwijkende datum (optioneel)
            <input type="date" name="datum" id="f-datum" />
          </label>

          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:10px">
            <button class="btn" type="submit">Opslaan</button>
            <button class="btn" type="button" data-close="modal-bk">Annuleren</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer>&copy; 2025 Superhond.be – Admin Portaal</footer>

  <script src="Js/script.js?v=0903n"></script>
  <script src="Js/boekingen.js?v=0903n"></script>
</body>
</html>
