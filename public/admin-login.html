<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Superhond ‚Äì Admin Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, sans-serif; background:#f7f7f7; display:flex; justify-content:center; align-items:center; height:100vh; }
    form { background:#fff; padding:30px; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.1); width:300px; }
    h1 { font-size:20px; margin-bottom:20px; text-align:center; }
    label { display:block; margin:10px 0 4px; }
    input { width:100%; padding:8px; border:1px solid #ccc; border-radius:6px; }
    button { margin-top:20px; width:100%; padding:10px; border:none; border-radius:6px; background:#ffb300; font-weight:700; cursor:pointer; }
    button:hover { background:#e6a200; }
    .err { color:#b71c1c; font-size:14px; text-align:center; margin-top:10px; min-height:1em; }
  </style>
</head>
<body>
  <form id="loginForm">
    <h1>üêæ Superhond Admin</h1>
    <label>E-mail</label>
    <input id="user" type="email" required>
    <label>Wachtwoord</label>
    <input id="pass" type="password" required>
    <button type="submit">Login</button>
    <div id="err"></div>
  </form>

  <script>
    const form = document.getElementById('loginForm');
    form.onsubmit = async e => {
      e.preventDefault();
      const email = document.getElementById('user').value;
      const password = document.getElementById('pass').value;
      try {
        const res = await fetch('/api/admin/login',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ email, password })
        });
        const data = await res.json();
        if(!res.ok) throw new Error(data.error || 'login_failed');
        localStorage.setItem('adminToken', data.token);
        location.href = '/index.html';
      } catch(err){
        document.getElementById('err').textContent = '‚ùå ' + err.message;
      }
    };
  </script>
</body>
</html>
