<!doctype html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Superhond · Lessen beheren</title>
  <link rel="stylesheet" href="styles.css?v=0903p" />
  <style>
    .status-badge{border-radius:999px;padding:2px 8px;font-size:.85rem;font-weight:700;display:inline-block}
    .st-actief{background:#e6ffcc;border:1px solid #97d36b;color:#185b00}
    .st-vol{background:#ffe6e6;border:1px solid #ff9a9a;color:#7d0000}
    .st-geannuleerd{background:#f1f1f1;border:1px solid #d0d0d0;color:#666}
    .mono{font-family:ui-monospace,Menlo,monospace}
    /* modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px;z-index:1000}
    .modal.open{display:flex}
    .modal-card{background:#fff;max-width:780px;width:100%;max-height:90vh;border-radius:10px;overflow:auto;box-shadow:0 10px 30px rgba(0,0,0,.2)}
    .modal-head{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #eee}
    .modal-body{padding:16px}
    .close-x{border:none;background:transparent;font-size:22px;cursor:pointer}
  </style>
</head>
<body>
  <nav class="topnav">
    <ul>
      <li><a href="index.html">Dashboard</a></li>
      <li><a href="klanten.html">Klanten</a></li>
      <li><a href="honden.html">Honden</a></li>
      <li><a href="lessen.html" class="active">Lessen beheren</a></li>
      <li><a href="boekingen.html">Boekingen</a></li>
      <li><a href="strippenkaarten.html">Strippenkaarten</a></li>
      <li><a href="les-instellingen.html">Instellingen</a></li>
    </ul>
  </nav>

  <header class="page-header">
    <div class="page-bread">Lessen beheren</div>
    <h1>Lessenoverzicht
      <span class="page-badge">Superhond.be – Admin</span>
    </h1>
  </header>

  <main>
    <section class="card">
      <div class="help">
        Live uit <span class="mono">/api/lessen</span>, verrijkt met <span class="mono">/api/trainers</span> en <span class="mono">/api/locaties</span>.
        Je kan toevoegen, bewerken, verwijderen en exporteren naar CSV.
      </div>

      <div class="row" style="gap:8px;align-items:flex-end;flex-wrap:wrap">
        <div class="col"><button id="btn-new" class="btn">+ Nieuwe les</button></div>
        <div class="col" style="min-width:220px"><label>Zoek <input id="q" placeholder="naam, type, locatie, trainer…"></label></div>
        <div class="col">
          <label>Status
            <select id="status">
              <option value="">Alle</option>
              <option value="actief">Actief</option>
              <option value="vol">Vol</option>
              <option value="geannuleerd">Geannuleerd</option>
            </select>
          </label>
        </div>
        <div class="col">
          <label>Trainer
            <select id="trainer-filter"><option value="">Alle</option></select>
          </label>
        </div>
        <div class="col">
          <label>Locatie
            <select id="loc-filter"><option value="">Alle</option></select>
          </label>
        </div>
        <div class="col"><button id="export" class="btn">Export CSV</button></div>
      </div>

      <table id="tbl-lessen" style="margin-top:10px">
        <thead>
          <tr><th>Naam</th><th>Type</th><th>Trainer</th><th>Locatie</th><th>Start</th><th>Cap.</th><th>Status</th><th></th></tr>
        </thead>
        <tbody>
          <tr class="placeholder"><td colspan="8" style="text-align:center;color:#777;">Laden…</td></tr>
        </tbody>
      </table>
    </section>
  </main>

  <!-- Modal: Les toevoegen/bewerken -->
  <div class="modal" id="modal-les">
    <div class="modal-card">
      <div class="modal-head">
        <h3 id="modal-title">Nieuwe les</h3>
        <button class="close-x" data-close="modal-les">✕</button>
      </div>
      <div class="modal-body">
        <form id="form-les">
          <input type="hidden" name="id" />
          <div class="row">
            <div class="col"><label>Naam* <input name="naam" id="f-naam" required placeholder="bv. Puppy Basis"></label></div>
            <div class="col"><label>Type <input name="type" id="f-type" placeholder="bv. Puppy"></label></div>
          </div>
          <div class="row">
            <div class="col"><label>Trainer* <select name="trainer_id" id="f-trainer" required></select></label></div>
            <div class="col"><label>Locatie* <select name="locatie_id" id="f-locatie" required></select></label></div>
          </div>
          <div class="row">
            <div class="col"><label>Start* <input type="datetime-local" name="start" id="f-start" required></label></div>
            <div class="col"><label>Capaciteit <input type="number" name="capaciteit" id="f-cap" min="0" placeholder="bv. 10"></label></div>
            <div class="col"><label>Bezet <input type="number" name="bezet" id="f-bezet" min="0" placeholder="bv. 0"></label></div>
          </div>
          <div class="row">
            <div class="col"><label>Status
              <select name="status" id="f-status">
                <option value="actief">Actief</option>
                <option value="vol">Vol</option>
                <option value="geannuleerd">Geannuleerd</option>
              </select></label>
            </div>
          </div>
          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:10px">
            <button class="btn" type="submit">Opslaan</button>
            <button class="btn" type="button" data-close="modal-les">Annuleren</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer>&copy; 2025 Superhond.be – Admin Portaal</footer>

  <script src="Js/script.js?v=0903p"></script>
  <script src="Js/lessen.js?v=0903p"></script>
</body>
</html>
